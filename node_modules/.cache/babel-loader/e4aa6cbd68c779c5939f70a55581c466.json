{"ast":null,"code":"import { takeEvery, call, put, select, flush, delay } from \"redux-saga/effects\";\nimport axios from \"axios\";\nimport CoinMarketData from \"../Api/CoinMarketData.json\";\nconst coinListDataUtils = {\n  marketNames: names => {\n    const data = {};\n    console.log(CoinMarketData[\"BTC\"].symbol);\n    names.forEach(name => {\n      let shortSym = name.market.split(\"-\")[1];\n      let moneySym = name.market.split(\"-\")[0];\n      let imgsrc = \"\";\n\n      if (CoinMarketData[shortSym]) {\n        imgsrc = CoinMarketData[shortSym].imgsrc;\n        console.log(imgsrc);\n      }\n\n      if (moneySym === \"KRW\") {\n        data[shortSym] = { ...data[shortSym],\n          upbitSym: name.market\n        };\n      } else if (moneySym === \"USDT\") {\n        data[shortSym] = { ...data[shortSym],\n          upbitUSDT: name.market\n        };\n      } else if (moneySym === \"BTC\") {\n        data[shortSym] = { ...data[shortSym],\n          upbitBTC: name.market\n        };\n      }\n    });\n    return data;\n  },\n  upbitAllNames: names => {\n    const data = {};\n    names.forEach(name => {\n      data[name.market] = {\n        korean: name.korean_name,\n        english: name.english_name\n      };\n    });\n    return data;\n  }\n};\nconst coinReadDataUtils = {\n  updates: (names, state) => {\n    const coinStateDatas = state.Coin.marketNames.data; //console.log(coinStateDatas);\n\n    names.forEach(name => {\n      //const newData = { ...coinStateDatas };\n      let shortSym = name.code.split(\"-\")[1];\n      let moneySym = name.code.split(\"-\")[0];\n      let nowPrice = name.trade_price;\n\n      if (nowPrice < 1.0) {\n        nowPrice = name.trade_price.toFixed(8);\n      } //console.log(\"1\", shortSym, \"2\", coinStateDatas[shortSym]);\n      //if (shortSym === coinStateDatas[shortSym]) {\n\n\n      if (moneySym === \"KRW\") {\n        coinStateDatas[shortSym] = { ...coinStateDatas[shortSym],\n          upbitPrice: nowPrice\n        }; //return coinStateDatas;\n      } else if (moneySym === \"USDT\") {\n        coinStateDatas[shortSym] = { ...coinStateDatas[shortSym],\n          upbitUSDTPrice: nowPrice\n        }; //return coinStateDatas;\n      } else if (moneySym === \"BTC\") {\n        coinStateDatas[shortSym] = { ...coinStateDatas[shortSym],\n          upbitBTCPrice: nowPrice\n        }; //return coinStateDatas;\n      } //console.log(\"success\", name.code, name.trade_price, coinStateDatas);\n      //}\n\n    });\n    return coinStateDatas;\n  },\n  initNames: names => {\n    const data = {};\n    names.forEach(name => {\n      let shortSym = name.split(\"-\")[1];\n      let moneySym = name.split(\"-\")[0];\n      /*\n                  let geckoSymbol = jsonGeckoData.find((gecko) => {\n                      if (gecko.symbol === shortSym.toLowerCase()) {\n                          return gecko;\n                      }\n                  });\n      /*\n                  axios.get(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${Object.values(geckoSymbol)[0]}&per_page=100&page=1&sparkline=false`).then(\n                      res => {\n                          console.log(res.data);\n                      }\n                  ).catch(error => console.log(error));\n      */\n      //if (geckoSymbol) {\n\n      if (moneySym === \"KRW\") {\n        data[shortSym] = { ...data[shortSym],\n          upbitPrice: 0.0,\n          upbitSym: name //totalNameSym: Object.values(geckoSymbol)[0],\n\n        };\n      } else if (moneySym === \"USDT\") {\n        data[shortSym] = { ...data[shortSym],\n          upbitUSDTPrice: 0.0,\n          upbitUSDT: name //totalNameSym: Object.values(geckoSymbol)[0],\n\n        };\n      } else if (moneySym === \"BTC\") {\n        data[shortSym] = { ...data[shortSym],\n          upbitBTCPrice: 0.0,\n          upbitBTC: name //totalNameSym: Object.values(geckoSymbol)[0],\n\n        };\n      } //}\n\n    });\n    return data;\n  }\n};\nexport { coinListDataUtils, coinReadDataUtils };","map":{"version":3,"sources":["/Users/sinhyeonsu/Documents/coingetprice2/src/Lib/utils.js"],"names":["takeEvery","call","put","select","flush","delay","axios","CoinMarketData","coinListDataUtils","marketNames","names","data","console","log","symbol","forEach","name","shortSym","market","split","moneySym","imgsrc","upbitSym","upbitUSDT","upbitBTC","upbitAllNames","korean","korean_name","english","english_name","coinReadDataUtils","updates","state","coinStateDatas","Coin","code","nowPrice","trade_price","toFixed","upbitPrice","upbitUSDTPrice","upbitBTCPrice","initNames"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,IAApB,EAA0BC,GAA1B,EAA+BC,MAA/B,EAAuCC,KAAvC,EAA8CC,KAA9C,QAA2D,oBAA3D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AAEA,MAAMC,iBAAiB,GAAG;AAEtBC,EAAAA,WAAW,EAAGC,KAAD,IAAW;AACpB,UAAMC,IAAI,GAAG,EAAb;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,cAAc,CAAC,KAAD,CAAd,CAAsBO,MAAlC;AACAJ,IAAAA,KAAK,CAACK,OAAN,CAAcC,IAAI,IAAI;AAClB,UAAIC,QAAQ,GAAGD,IAAI,CAACE,MAAL,CAAYC,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAf;AACA,UAAIC,QAAQ,GAAGJ,IAAI,CAACE,MAAL,CAAYC,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAf;AACA,UAAIE,MAAM,GAAG,EAAb;;AACA,UAAId,cAAc,CAACU,QAAD,CAAlB,EAA8B;AAC1BI,QAAAA,MAAM,GAAGd,cAAc,CAACU,QAAD,CAAd,CAAyBI,MAAlC;AACAT,QAAAA,OAAO,CAACC,GAAR,CAAYQ,MAAZ;AACH;;AAED,UAAID,QAAQ,KAAK,KAAjB,EAAwB;AACpBT,QAAAA,IAAI,CAACM,QAAD,CAAJ,GAAiB,EACb,GAAGN,IAAI,CAACM,QAAD,CADM;AAEbK,UAAAA,QAAQ,EAAEN,IAAI,CAACE;AAFF,SAAjB;AAIH,OALD,MAKO,IAAIE,QAAQ,KAAK,MAAjB,EAAyB;AAC5BT,QAAAA,IAAI,CAACM,QAAD,CAAJ,GAAiB,EACb,GAAGN,IAAI,CAACM,QAAD,CADM;AAEbM,UAAAA,SAAS,EAAEP,IAAI,CAACE;AAFH,SAAjB;AAIH,OALM,MAKA,IAAIE,QAAQ,KAAK,KAAjB,EAAwB;AAC3BT,QAAAA,IAAI,CAACM,QAAD,CAAJ,GAAiB,EACb,GAAGN,IAAI,CAACM,QAAD,CADM;AAEbO,UAAAA,QAAQ,EAAER,IAAI,CAACE;AAFF,SAAjB;AAIH;AACJ,KAzBD;AA0BA,WAAOP,IAAP;AACH,GAhCqB;AAiCtBc,EAAAA,aAAa,EAAGf,KAAD,IAAW;AACtB,UAAMC,IAAI,GAAG,EAAb;AACAD,IAAAA,KAAK,CAACK,OAAN,CAAcC,IAAI,IAAI;AAClBL,MAAAA,IAAI,CAACK,IAAI,CAACE,MAAN,CAAJ,GAAoB;AAChBQ,QAAAA,MAAM,EAAEV,IAAI,CAACW,WADG;AAEhBC,QAAAA,OAAO,EAAEZ,IAAI,CAACa;AAFE,OAApB;AAIH,KALD;AAMA,WAAOlB,IAAP;AACH;AA1CqB,CAA1B;AA6CA,MAAMmB,iBAAiB,GAAG;AACtBC,EAAAA,OAAO,EAAE,CAACrB,KAAD,EAAQsB,KAAR,KAAkB;AACvB,UAAMC,cAAc,GAAGD,KAAK,CAACE,IAAN,CAAWzB,WAAX,CAAuBE,IAA9C,CADuB,CAEvB;;AACAD,IAAAA,KAAK,CAACK,OAAN,CAAcC,IAAI,IAAI;AAClB;AACA,UAAIC,QAAQ,GAAGD,IAAI,CAACmB,IAAL,CAAUhB,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAf;AACA,UAAIC,QAAQ,GAAGJ,IAAI,CAACmB,IAAL,CAAUhB,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAf;AACA,UAAIiB,QAAQ,GAAGpB,IAAI,CAACqB,WAApB;;AAEA,UAAID,QAAQ,GAAG,GAAf,EAAoB;AAChBA,QAAAA,QAAQ,GAAGpB,IAAI,CAACqB,WAAL,CAAiBC,OAAjB,CAAyB,CAAzB,CAAX;AACH,OARiB,CAUlB;AACA;;;AACA,UAAIlB,QAAQ,KAAK,KAAjB,EAAwB;AACpBa,QAAAA,cAAc,CAAChB,QAAD,CAAd,GAA2B,EACvB,GAAGgB,cAAc,CAAChB,QAAD,CADM;AAEvBsB,UAAAA,UAAU,EAAEH;AAFW,SAA3B,CADoB,CAKpB;AACH,OAND,MAMO,IAAIhB,QAAQ,KAAK,MAAjB,EAAyB;AAC5Ba,QAAAA,cAAc,CAAChB,QAAD,CAAd,GAA2B,EACvB,GAAGgB,cAAc,CAAChB,QAAD,CADM;AAEvBuB,UAAAA,cAAc,EAAEJ;AAFO,SAA3B,CAD4B,CAK5B;AACH,OANM,MAMA,IAAIhB,QAAQ,KAAK,KAAjB,EAAwB;AAC3Ba,QAAAA,cAAc,CAAChB,QAAD,CAAd,GAA2B,EACvB,GAAGgB,cAAc,CAAChB,QAAD,CADM;AAEvBwB,UAAAA,aAAa,EAAEL;AAFQ,SAA3B,CAD2B,CAK3B;AACH,OA9BiB,CA+BlB;AACA;;AACH,KAjCD;AAkCA,WAAOH,cAAP;AACH,GAvCqB;AAwCtBS,EAAAA,SAAS,EAAGhC,KAAD,IAAW;AAClB,UAAMC,IAAI,GAAG,EAAb;AAEAD,IAAAA,KAAK,CAACK,OAAN,CAAcC,IAAI,IAAI;AAElB,UAAIC,QAAQ,GAAGD,IAAI,CAACG,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAf;AACA,UAAIC,QAAQ,GAAGJ,IAAI,CAACG,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAf;AACA;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEY;;AACA,UAAIC,QAAQ,KAAK,KAAjB,EAAwB;AACpBT,QAAAA,IAAI,CAACM,QAAD,CAAJ,GAAiB,EACb,GAAGN,IAAI,CAACM,QAAD,CADM;AAEbsB,UAAAA,UAAU,EAAE,GAFC;AAGbjB,UAAAA,QAAQ,EAAEN,IAHG,CAIb;;AAJa,SAAjB;AAMH,OAPD,MAOO,IAAII,QAAQ,KAAK,MAAjB,EAAyB;AAC5BT,QAAAA,IAAI,CAACM,QAAD,CAAJ,GAAiB,EACb,GAAGN,IAAI,CAACM,QAAD,CADM;AAEbuB,UAAAA,cAAc,EAAE,GAFH;AAGbjB,UAAAA,SAAS,EAAEP,IAHE,CAIb;;AAJa,SAAjB;AAMH,OAPM,MAOA,IAAII,QAAQ,KAAK,KAAjB,EAAwB;AAC3BT,QAAAA,IAAI,CAACM,QAAD,CAAJ,GAAiB,EACb,GAAGN,IAAI,CAACM,QAAD,CADM;AAEbwB,UAAAA,aAAa,EAAE,GAFF;AAGbjB,UAAAA,QAAQ,EAAER,IAHG,CAIb;;AAJa,SAAjB;AAMH,OAxCiB,CAyClB;;AAEH,KA3CD;AA4CA,WAAOL,IAAP;AACH;AAxFqB,CAA1B;AA4FA,SACIH,iBADJ,EAEIsB,iBAFJ","sourcesContent":["import { takeEvery, call, put, select, flush, delay } from \"redux-saga/effects\";\nimport axios from \"axios\";\nimport CoinMarketData from \"../Api/CoinMarketData.json\";\n\nconst coinListDataUtils = {\n\n    marketNames: (names) => {\n        const data = {};\n        console.log(CoinMarketData[\"BTC\"].symbol);\n        names.forEach(name => {\n            let shortSym = name.market.split(\"-\")[1];\n            let moneySym = name.market.split(\"-\")[0];\n            let imgsrc = \"\";\n            if (CoinMarketData[shortSym]) {\n                imgsrc = CoinMarketData[shortSym].imgsrc;\n                console.log(imgsrc);\n            }\n\n            if (moneySym === \"KRW\") {\n                data[shortSym] = {\n                    ...data[shortSym],\n                    upbitSym: name.market\n                }\n            } else if (moneySym === \"USDT\") {\n                data[shortSym] = {\n                    ...data[shortSym],\n                    upbitUSDT: name.market\n                }\n            } else if (moneySym === \"BTC\") {\n                data[shortSym] = {\n                    ...data[shortSym],\n                    upbitBTC: name.market\n                }\n            }\n        });\n        return data;\n    },\n    upbitAllNames: (names) => {\n        const data = {};\n        names.forEach(name => {\n            data[name.market] = {\n                korean: name.korean_name,\n                english: name.english_name,\n            };\n        })\n        return data;\n    }\n};\n\nconst coinReadDataUtils = {\n    updates: (names, state) => {\n        const coinStateDatas = state.Coin.marketNames.data;\n        //console.log(coinStateDatas);\n        names.forEach(name => {\n            //const newData = { ...coinStateDatas };\n            let shortSym = name.code.split(\"-\")[1];\n            let moneySym = name.code.split(\"-\")[0];\n            let nowPrice = name.trade_price;\n\n            if (nowPrice < 1.0) {\n                nowPrice = name.trade_price.toFixed(8);\n            }\n\n            //console.log(\"1\", shortSym, \"2\", coinStateDatas[shortSym]);\n            //if (shortSym === coinStateDatas[shortSym]) {\n            if (moneySym === \"KRW\") {\n                coinStateDatas[shortSym] = {\n                    ...coinStateDatas[shortSym],\n                    upbitPrice: nowPrice\n                }\n                //return coinStateDatas;\n            } else if (moneySym === \"USDT\") {\n                coinStateDatas[shortSym] = {\n                    ...coinStateDatas[shortSym],\n                    upbitUSDTPrice: nowPrice\n                }\n                //return coinStateDatas;\n            } else if (moneySym === \"BTC\") {\n                coinStateDatas[shortSym] = {\n                    ...coinStateDatas[shortSym],\n                    upbitBTCPrice: nowPrice\n                }\n                //return coinStateDatas;\n            }\n            //console.log(\"success\", name.code, name.trade_price, coinStateDatas);\n            //}\n        });\n        return coinStateDatas;\n    },\n    initNames: (names) => {\n        const data = {};\n\n        names.forEach(name => {\n\n            let shortSym = name.split(\"-\")[1];\n            let moneySym = name.split(\"-\")[0];\n            /*\n                        let geckoSymbol = jsonGeckoData.find((gecko) => {\n                            if (gecko.symbol === shortSym.toLowerCase()) {\n                                return gecko;\n                            }\n                        });\n            /*\n                        axios.get(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${Object.values(geckoSymbol)[0]}&per_page=100&page=1&sparkline=false`).then(\n                            res => {\n                                console.log(res.data);\n                            }\n                        ).catch(error => console.log(error));\n            */\n\n            //if (geckoSymbol) {\n            if (moneySym === \"KRW\") {\n                data[shortSym] = {\n                    ...data[shortSym],\n                    upbitPrice: 0.0,\n                    upbitSym: name,\n                    //totalNameSym: Object.values(geckoSymbol)[0],\n                }\n            } else if (moneySym === \"USDT\") {\n                data[shortSym] = {\n                    ...data[shortSym],\n                    upbitUSDTPrice: 0.0,\n                    upbitUSDT: name,\n                    //totalNameSym: Object.values(geckoSymbol)[0],\n                }\n            } else if (moneySym === \"BTC\") {\n                data[shortSym] = {\n                    ...data[shortSym],\n                    upbitBTCPrice: 0.0,\n                    upbitBTC: name,\n                    //totalNameSym: Object.values(geckoSymbol)[0],\n                }\n            }\n            //}\n\n        });\n        return data;\n    }\n};\n\n\nexport {\n    coinListDataUtils,\n    coinReadDataUtils\n}"]},"metadata":{},"sourceType":"module"}