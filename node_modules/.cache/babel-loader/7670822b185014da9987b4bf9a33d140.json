{"ast":null,"code":"import { call, put, select, flush, delay } from \"redux-saga/effects\";\n\nconst createRequestSaga = (type, api, dataMaker) => {\n  const SUCCESS = `${type}_SUCCESS`;\n  const ERROR = `${type}_ERROR`;\n  return function* (action = {}) {\n    yield put(type);\n\n    try {\n      const res = yield call(api, action.payload);\n      const state = yield select();\n      console.log(res);\n      yield put({\n        type: SUCCESS,\n        payload: dataMaker(res.data, state)\n      }); // yield put(finishLoading(type));\n    } catch (e) {\n      yield put({\n        type: ERROR,\n        payload: e\n      }); // yield put(finishLoading(type));\n\n      throw e;\n    }\n  };\n};\n\nexport { createRequestSaga };","map":{"version":3,"sources":["/Users/sinhyeonsu/Documents/coingetprice2/src/Lib/asyncUtil.js"],"names":["call","put","select","flush","delay","createRequestSaga","type","api","dataMaker","SUCCESS","ERROR","action","res","payload","state","console","log","data","e"],"mappings":"AAAA,SAASA,IAAT,EAAeC,GAAf,EAAoBC,MAApB,EAA4BC,KAA5B,EAAmCC,KAAnC,QAAgD,oBAAhD;;AAGA,MAAMC,iBAAiB,GAAG,CAACC,IAAD,EAAOC,GAAP,EAAYC,SAAZ,KAA0B;AAChD,QAAMC,OAAO,GAAI,GAAEH,IAAK,UAAxB;AACA,QAAMI,KAAK,GAAI,GAAEJ,IAAK,QAAtB;AAEA,SAAO,WAAWK,MAAM,GAAG,EAApB,EAAwB;AAC3B,UAAMV,GAAG,CAACK,IAAD,CAAT;;AACA,QAAI;AACA,YAAMM,GAAG,GAAG,MAAMZ,IAAI,CAACO,GAAD,EAAMI,MAAM,CAACE,OAAb,CAAtB;AACA,YAAMC,KAAK,GAAG,MAAMZ,MAAM,EAA1B;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACA,YAAMX,GAAG,CAAC;AAAEK,QAAAA,IAAI,EAAEG,OAAR;AAAiBI,QAAAA,OAAO,EAAEL,SAAS,CAACI,GAAG,CAACK,IAAL,EAAWH,KAAX;AAAnC,OAAD,CAAT,CAJA,CAKA;AACH,KAND,CAME,OAAOI,CAAP,EAAU;AACR,YAAMjB,GAAG,CAAC;AAAEK,QAAAA,IAAI,EAAEI,KAAR;AAAeG,QAAAA,OAAO,EAAEK;AAAxB,OAAD,CAAT,CADQ,CAER;;AACA,YAAMA,CAAN;AACH;AACJ,GAbD;AAcH,CAlBD;;AAoBA,SACIb,iBADJ","sourcesContent":["import { call, put, select, flush, delay } from \"redux-saga/effects\";\n\n\nconst createRequestSaga = (type, api, dataMaker) => {\n    const SUCCESS = `${type}_SUCCESS`;\n    const ERROR = `${type}_ERROR`;\n\n    return function* (action = {}) {\n        yield put(type);\n        try {\n            const res = yield call(api, action.payload);\n            const state = yield select();\n            console.log(res);\n            yield put({ type: SUCCESS, payload: dataMaker(res.data, state) });\n            // yield put(finishLoading(type));\n        } catch (e) {\n            yield put({ type: ERROR, payload: e });\n            // yield put(finishLoading(type));\n            throw e;\n        }\n    };\n};\n\nexport {\n    createRequestSaga,\n}"]},"metadata":{},"sourceType":"module"}